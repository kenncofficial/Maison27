(window.webpackJsonp=window.webpackJsonp||[]).push([[172],{"1Cz6":function(e,t,r){"use strict";var n=r("ERkP"),s=r("t62R"),o=r("MAI/"),i=r("3XMw"),a=r.n(i),l=r("cm6r"),c=r("cHvH"),d=r("Wd7d"),u=r("rHpw"),p=r("U+bB"),m=r("MWbm");class h extends n.Component{componentDidMount(){this._canDisplayFacepiles()&&this.props.onFacepilesImpression&&this.props.onFacepilesImpression()}render(){const{imageSrc:e,subtitle:t,title:r}=this.props,o=e?n.createElement(p.a,{source:e,style:w.iconCustom}):null;return n.createElement(n.Fragment,null,o,n.createElement(s.c,{color:"normal",size:"jumbo",weight:"heavy"},r),t?n.createElement(s.c,{color:"gray600",size:"small",weight:"bold"},t):null,this._renderCondensedHeader())}_renderCondensedHeader(){const{knownFollowers:e,imageSrc:t}=this.props;return e&&this._canDisplayFacepiles()?t?this._renderContextWithFacepilesV2():this._renderContextWithFacepiles():this._renderContext()}_renderContextWithFacepiles(){const{button:e,knownFollowers:t,onFacepilesClick:r}=this.props,{firstUsername:i,knownFollowersAvatarUrls:a,trendingFollowersUrl:p,usersCount:h}=t||{};return n.createElement(c.a,null,(({windowWidth:t})=>{const c=d.a.isNarrowScreenWidth(t)?"xLarge":"xxLarge",b=t<u.a.theme.breakpoints.xSmall?w.buttonWrap:void 0,f=t<u.a.theme.breakpoints.xSmall?w.buttonStyle:[w.buttonStyle,w.buttonMargin];return n.createElement(m.a,{style:[w.knownFollowersContainer,b]},n.createElement(l.a,{interactiveStyles:null,link:p,onPress:r,style:w.interactiveStyle},(({isHovered:e})=>n.createElement(n.Fragment,null,n.createElement(o.a,{style:w.topicContent,userAvatarSize:c,userAvatarUrls:a}),n.createElement(s.c,{color:"gray600",dir:"ltr",numberOfLines:2,size:"small",style:[e&&w.underline]},this._renderContextText(i,h))))),n.createElement(m.a,{style:f},e))}))}_renderContextWithFacepilesV2(){const{button:e,knownFollowers:t,onFacepilesClick:r}=this.props,{firstUsername:i,knownFollowersAvatarUrls:a,trendingFollowersUrl:u,usersCount:p}=t||{};return n.createElement(c.a,null,(({windowWidth:t})=>{const c=d.a.isNarrowScreenWidth(t)?"xLarge":"xxLarge";return n.createElement(m.a,null,n.createElement(m.a,{style:w.buttonStyleV2},e),n.createElement(l.a,{interactiveStyles:null,link:u,onPress:r,style:w.interactiveStyleV2},(({isHovered:e})=>n.createElement(n.Fragment,null,n.createElement(s.c,{color:"gray600",dir:"ltr",numberOfLines:2,size:"small",style:[e&&w.underline]},this._renderContextText(i,p)),n.createElement(o.a,{style:w.topicContent,userAvatarSize:c,userAvatarUrls:a})))))}))}_renderContext(){const{context:e,button:t}=this.props;return e?n.createElement(m.a,{style:w.condensedContext},n.createElement(s.c,{align:"left",color:"gray600",numberOfLines:3,size:"small"},e),n.createElement(m.a,{style:[w.buttonStyle,w.buttonMargin]},t)):null}_canDisplayFacepiles(){const{knownFollowers:e}=this.props;return e&&e.knownFollowersAvatarUrls.length>3}_renderContextText(e,t){return n.createElement(a.a.I18NFormatMessage,{$i18n:"bb2cd6d3"},e,t)}}const w=u.a.create((e=>({topicContent:{marginBottom:e.spaces.space16,alignSelf:"flex-start"},buttonStyle:{marginBottom:e.spaces.space16},buttonMargin:{marginLeft:e.spaces.space20},underline:{textDecorationLine:"underline"},condensedContext:{marginTop:e.spaces.space16,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},iconCustom:{alignSelf:"flex-start",borderRadius:e.borderRadii.infinite,height:e.spaces.space32,width:e.spaces.space32,marginTop:e.spaces.space8,marginBottom:e.spaces.space8},buttonStyleV2:{marginTop:e.spaces.space16,alignSelf:"flex-start"},interactiveStyle:{flexShrink:1},interactiveStyleV2:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},knownFollowersContainer:{marginTop:e.spaces.space16,marginBottom:e.spaces.space16,flexDirection:"row",justifyContent:"space-between",flexGrow:1,flexShrink:1,overflow:"hidden"},buttonWrap:{flexWrap:"wrap-reverse"}})));t.a=h},BqYg:function(e,t){function r(e,t,r){var n,s,o,i,a;function l(){var c=Date.now()-i;c<t&&c>=0?n=setTimeout(l,t-c):(n=null,r||(a=e.apply(o,s),o=s=null))}null==t&&(t=100);var c=function(){o=this,s=arguments,i=Date.now();var c=r&&!n;return n||(n=setTimeout(l,t)),c&&(a=e.apply(o,s),o=s=null),a};return c.clear=function(){n&&(clearTimeout(n),n=null)},c.flush=function(){n&&(a=e.apply(o,s),o=s=null,clearTimeout(n),n=null)},c}r.debounce=r,e.exports=r},K0xN:function(e,t,r){"use strict";r.r(t),r.d(t,"TopicHeader",(function(){return S}));var n=r("KEM+"),s=r.n(n),o=(r("kYxP"),r("ERkP")),i=r("Qyxo"),a=r("rxPX"),l=r("0KEI"),c=r("Zejx"),d=r("G6rE");const u=(e,t)=>c.a.select(e,t.topicId),p=(e,t)=>{const r=((e,t)=>{var r;return d.e.selectMany(e,(null==(r=t.facepile)?void 0:r.userIds)||[])})(e,t);return Object(i.a)(r,(e=>!e||e.blocking||e.muting?void 0:e))};var m=Object(a.a)().propsFromState((()=>({topic:u,users:p}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(l.d)("TOPIC_HEADER"),follow:c.a.follow,unfollow:c.a.unfollow}))).withAnalytics(),h=r("LWCC"),w=r("EHV7"),b=r("Tp1h"),f=r("vYiB"),g=r("caTy"),_=r("Jkc4"),E=r("MWbm"),C=r("v6aA"),y=r("1Cz6"),v=r("rHpw");class S extends o.Component{constructor(...e){super(...e),s()(this,"_handleOnFollow",(()=>{const{analytics:e,createLocalApiErrorHandler:t,follow:r,topicId:n}=this.props;r(n).catch(t()),e.scribeAction("follow")})),s()(this,"_handleOnUnfollow",(()=>{const{analytics:e,createLocalApiErrorHandler:t,topicId:r,unfollow:n}=this.props;n(r).catch(t()),e.scribeAction("unfollow")})),s()(this,"_handleOnClickFacepiles",(()=>{this._scribeAction({element:"facepile",action:"click"})})),s()(this,"_handleFacepilesImpression",(()=>{this._scribeAction({element:"facepile",action:"impression"})}))}render(){const{facepile:e,onFollowHeaderOffscreen:t,showRelationshipChangeConfirmation:r,topic:n,topicLandingContext:s,users:i}=this.props,{description:a,name:l,icon_url:c}=n||{},d=i.slice(0,4).map((e=>e.profile_image_url_https)),u=(null==e?void 0:e.facepileUrl)&&Object(g.b)(e.facepileUrl),p=i&&i.length>3?{firstUsername:i[0].name||"",usersCount:i.length-1,knownFollowersAvatarUrls:d,trendingFollowersUrl:u||""}:void 0,m=c&&this.context.featureSwitches.isTrue("topic_icons_enabled")?c:void 0;return n?o.createElement(E.a,{style:k.root},o.createElement(_.a,{customText:l,displayMode:b.a.topic},(e=>o.createElement(f.a,{onOffscreenChange:t},o.createElement(y.a,{button:o.createElement(h.a,{showRelationshipChangeConfirmation:r,size:"normal",topic:n,useDefaultText:!1}),context:s,icon:w.a,imageSrc:m,knownFollowers:p,onFacepilesClick:this._handleOnClickFacepiles,onFacepilesImpression:this._handleFacepilesImpression,subtitle:a,title:l}))))):null}_scribeAction(e){const{analytics:t}=this.props;t.scribe(e)}}s()(S,"contextType",C.a);const k=v.a.create((e=>({root:{marginHorizontal:e.componentDimensions.gutterHorizontal,marginVertical:e.componentDimensions.gutterVertical}}))),F=m(S);t.default=F},VY6S:function(e,t,r){"use strict";var n=r("BqYg"),s=r.n(n);t.a=(e,t,r)=>s()(e,t,r)},ZQ2e:function(e,t,r){"use strict";r.d(t,"a",(function(){return E}));var n=r("KEM+"),s=r.n(n),o=r("ERkP"),i=(r("kYxP"),r("t62R")),a=r("ir4X"),l=r("0PHd"),c=r("rHpw"),d=r("oSwX"),u=r("pBrB"),p=r("jV+4"),m=r("wCd/"),h=r("MWbm");class w extends o.PureComponent{constructor(...e){super(...e),s()(this,"_renderKnownFollowerSocialContext",(()=>{const{isAllowedToViewOptions:e,isLoggedIn:t,knownFollowers:r,userScreenName:n}=this.props,{avatarUrls:s,count:i,names:a}=r,{followersYouKnow:c}=e;return c&&t?o.createElement(h.a,{style:[b.marginTopXSmall,b.minHeight]},"number"==typeof i&&o.createElement(l.a,{knownFollowersAvatarUrls:s,knownFollowersCount:i,knownFollowersNames:a,userScreenName:n})):null}))}render(){return o.createElement(h.a,{style:b.root},this._renderUserAvatar(),o.createElement(h.a,{style:b.marginTopXXSmall},this._renderUserName(),this._renderHighlightedUserLabel()),this._renderErrorMessage(),this._renderUserDescription(),this._renderUserStats(),this._renderKnownFollowerSocialContext())}_renderUserAvatar(){const{followButton:e,isAllowedToViewOptions:t,isLoggedIn:r,onAvatarClick:n,promotedContent:s,userName:i,userScreenName:a,userAvatarUri:l}=this.props,{avatar:c,followButton:u,fullName:p}=t;return o.createElement(h.a,{style:b.row},o.createElement(d.default,{accessibilityHidden:!0,accessibilityLabel:p?i:a,onClick:n,promotedContent:s,screenName:a,size:"jumbo",uri:c?l:void 0,withLink:!0}),u&&r&&e?e:null)}_renderUserName(){const{isAllowedToViewOptions:e,isUserProtected:t,isUserVerified:r,onScreenNameClick:n,promotedContent:s,userName:i,userScreenName:a,userTranslatorType:l,userWithFollowsYou:c}=this.props,{badges:d,followIndicator:u,fullName:m}=e;return o.createElement(p.a,{badgeContext:"account",isProtected:d?t:void 0,isVerified:d?r:void 0,name:m?i:a,onLinkClick:n,promotedContent:s,screenName:a,translatorType:d?l:void 0,withFollowsYou:u&&c,withLink:!0,withStackedLayout:!0})}_renderHighlightedUserLabel(){const{isAllowedToViewOptions:e,userHighlightedLabel:t}=this.props,{label:r}=e;return r&&t?o.createElement(a.a,{label:t}):null}_renderErrorMessage(){const{errorMessage:e}=this.props;return e?o.createElement(h.a,{style:b.marginTopXXSmall},o.createElement(i.c,null,e)):null}_renderUserDescription(){const{isAllowedToViewOptions:e,userDescription:t,userWithheldDescription:r,userEntities:n,userWithheldEntities:s,userId:i}=this.props,{description:a}=e;return a&&t?o.createElement(h.a,{style:[b.row,b.marginTopXSmall]},o.createElement(u.a,{description:t,entities:n,userId:i,withheldDescription:r,withheldEntities:s})):null}_renderUserStats(){const{isAllowedToViewOptions:e,isUserStatsWithLink:t,onUserStatsPress:r,userScreenName:n,userFollowersCount:s,userFriendsCount:i}=this.props,{stats:a}=e;return a?o.createElement(h.a,{style:[b.row,b.marginTopXSmall]},o.createElement(m.a,{followersCount:s,friendsCount:i,onPress:r,screenName:n,withLink:t})):null}}const b=c.a.create((e=>({root:{padding:e.spaces.space16},row:{flexDirection:"row",justifyContent:"space-between"},marginTopXSmall:{marginTop:e.spaces.space12},marginTopXXSmall:{marginTop:e.spaces.space4},minHeight:{minHeight:e.spaces.space20}})));var f=r("3XMw");const g=r.n(f).a.ef633577;class _ extends o.PureComponent{render(){const{onAvatarClick:e,onScreenNameClick:t,userScreenName:r}=this.props,n={protected:!1,isUserStatsWithLink:!1,verified:!1,profile_image_url_https:"",description:"",entities:{},followers_count:0,friends_count:0,id_str:"",followed_by:!1};return o.createElement(w,{errorMessage:g,isAllowedToViewOptions:{avatar:!1,badges:!0,description:!1,followButton:!1,followIndicator:!0,followersYouKnow:!1,fullName:!1,label:!1,stats:!1},isLoggedIn:!1,isUserProtected:n.protected,isUserStatsWithLink:n.isUserStatsWithLink,isUserVerified:n.verified,knownFollowers:{avatarUrls:[],names:[]},onAvatarClick:e,onScreenNameClick:t,userAvatarUri:n.profile_image_url_https,userDescription:n.description,userEntities:n.entities,userFollowersCount:n.followers_count,userFriendsCount:n.friends_count,userId:n.id_str,userName:r,userScreenName:r,userWithFollowsYou:n.followed_by,userWithheldDescription:void 0,userWithheldEntities:void 0})}}class E extends o.PureComponent{render(){return o.createElement(w,this.props)}}s()(E,"Suspended",_)},ehWl:function(e,t,r){"use strict";r.r(t),r.d(t,"formatNumber",(function(){return M})),r.d(t,"ListDetail",(function(){return D}));var n=r("KEM+"),s=r.n(n),o=(r("kYxP"),r("ERkP")),i=r("iPch"),a=r("rxPX"),l=r("0KEI"),c=r("kHBp"),d=r("RqPI"),u=r("G6rE");const p=(e,t)=>{const{listId:r}=t;return r?c.a.select(e,r):void 0},m=(e,t)=>{const r=p(e,t),n=null==r?void 0:r.user;return n?u.e.select(e,n):void 0},h=(e,t)=>i.h(e,t.listId);var w=Object(a.a)().propsFromState((()=>({list:p,user:m,loggedInUserId:d.h,media:h}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(l.d)("LIST_DETAIL"),subscribe:c.a.subscribe,unsubscribe:c.a.unsubscribe}))).withAnalytics(),b=r("9MWU"),f=r("h+EW"),g=r("f5/l"),_=r("muX9"),E=r("a5gf"),C=r("YeIG"),y=r("Tp1h"),v=r("Jkc4"),S=r("MWbm"),k=r("MtXG"),F=r("TIdA"),x=r("A91F"),U=r("rHpw"),A=r("9Xij"),I=r("t62R"),N=r("jV+4"),L=r("/yvb"),P=r("v6aA"),T=r("3XMw"),O=r.n(T);const M=O.a.d58baa7e,W=O.a.ca5d0a81,H=O.a.j681933d;class D extends o.Component{constructor(...e){super(...e),s()(this,"_renderImage",(()=>{const{media:e}=this.props,{image:t}=e;if(t&&!Object(C.a)(t)){const{url:e}=t;return o.createElement(o.Fragment,null,o.createElement(_.a,null,o.createElement("meta",{content:e,property:"og:image"})),o.createElement(F.a,{accessibilityLabel:"",aspectMode:x.a.exact(3),backgroundColor:U.a.theme.colors.gray300,image:t}))}return o.createElement(A.a,{ratio:3},o.createElement(S.a,{style:R.placeholderImageContainer}))})),s()(this,"_renderListDescription",(()=>{const{list:e,user:t}=this.props;if(e){const{name:r,description:n,member_count:s,subscriber_count:i,mode:a}=e,l=i||0,c=s||0,d="private"===a;return o.createElement(S.a,{style:R.description},o.createElement(S.a,{style:[R.name,R.text]},o.createElement(I.c,{align:"center",size:"large",weight:"bold"},r.trim()),d?o.createElement(E.a,{accessibilityLabel:H,style:R.iconLock}):null),n?o.createElement(o.Fragment,null,o.createElement(_.a,null,o.createElement("meta",{content:n.trim(),property:"og:description"})),o.createElement(I.c,{align:"center",style:R.text},n.trim())):null,t?o.createElement(N.a,{isProtected:t.protected,isVerified:t.verified,name:t.name,onLinkClick:this._handleUserNamePress,profileImageUrl:t.profile_image_url_https,screenName:t.screen_name,style:R.text,withLink:!0}):null,this._renderCount(l,c),this._renderActionButton())}})),s()(this,"_renderCount",((e,t)=>{const{basePath:r}=this.props,n=M(e),s=M(t);return o.createElement(k.a.Group,null,o.createElement(k.a,{count:t,link:`${r}/members`,onPress:this._handleMembersCountPress},o.createElement(O.a.I18NFormatMessage,{$i18n:"b38e130b"},o.createElement(k.a.Value,null,O.a.ibd0106d({formattedCount:s})),o.createElement(k.a.Label,null,O.a.cface2d0({count:t})))),o.createElement(k.a,{count:e,link:`${r}/followers`,onPress:this._handleSubscribersCountPress},(i=e,a=n,o.createElement(O.a.I18NFormatMessage,{$i18n:"d2924acb"},o.createElement(k.a.Value,null,O.a.ec08efe3({formattedCount:a})),o.createElement(k.a.Label,null,O.a.h9f711f0({count:i}))))));var i,a})),s()(this,"_handleEditPress",(()=>{this._scribe({element:"edit",action:"click"})})),s()(this,"_handleUserNamePress",(()=>{this._scribe({element:"user",action:"click"})})),s()(this,"_handleMembersCountPress",(()=>{this._scribe({element:"list_member",action:"click"})})),s()(this,"_handleSubscribersCountPress",(()=>{this._scribe({element:"list_subscribed",action:"click"})})),s()(this,"_handleSubscribeActions",(()=>{const{list:e,subscribe:t,unsubscribe:r,createLocalApiErrorHandler:n}=this.props;if(e){const s=e.following,o=e.id_str;Object(g.a)(n,s,o,t,r,this._scribe)}})),s()(this,"_renderActionButton",(()=>{const{basePath:e,list:t,loggedInUserId:r,user:n,withEditButton:s}=this.props;if(t&&t.user){const i=null==n?void 0:n.blocking;if(t.user===r&&s){const t=this.context.featureSwitches.getStringValue("responsive_web_better_stateful_buttons_variant");return o.createElement(L.a,{link:`${e}/info`,onPress:this._handleEditPress,style:R.button,type:Object(f.c)(t)},W)}return t.user!==r?o.createElement(S.a,{style:R.button},o.createElement(v.a,{customText:t.name,displayMode:y.a.subscribe,userFullName:n&&n.name},(e=>o.createElement(b.a,{disabled:i,isFollowing:!!t.following,onFollow:e(this._handleSubscribeActions),onUnfollow:e(this._handleSubscribeActions),showRelationshipChangeConfirmation:!1,type:"list"})))):null}})),s()(this,"_scribe",(e=>{const{analytics:t}=this.props;t.scribe(e)}))}componentDidMount(){this._scribe({action:"impression"})}render(){const{list:e,withRoundedCorners:t}=this.props;return e?o.createElement(S.a,{style:[R.container,t&&R.hoverCard]},this._renderImage(),this._renderListDescription()):null}}s()(D,"contextType",P.a),s()(D,"defaultProps",{withEditButton:!0});const R=U.a.create((e=>({container:{borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor,borderStyle:"solid"},hoverCard:{borderRadius:e.borderRadii.xLarge,overflow:"hidden"},button:{marginTop:e.spaces.space20,marginBottom:e.spaces.space12},description:{paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space12,alignItems:"center"},name:{flexDirection:"row",justifyContent:"center",alignItems:"center"},iconLock:{color:e.colors.text,marginLeft:e.spaces.space2},text:{width:"100%",marginBottom:e.spaces.space12},placeholderImageContainer:{backgroundColor:e.colors.gray300,height:"100%"}}))),B=w(D);t.default=B},jHwr:function(e,t,r){"use strict";t.a=(e,t)=>{let r=null;const n=()=>{r=null,e()};return()=>(r||(r=t(n)),r)}},uvhM:function(e,t,r){"use strict";r.r(t),r.d(t,"UserProfileCardContainer",(function(){return A}));var n=r("KEM+"),s=r.n(n),o=(r("kYxP"),r("ERkP")),i=r("XnvM"),a=r("SwJK"),l=r("P1r1"),c=r("rxPX"),d=r("0KEI"),u=r("G6rE");const p=Object(u.h)([u.a]),m=(e,t)=>p(e,t.screenName),h=(e,t)=>u.e.selectByScreenName(e,t.screenName),w=(e,t)=>u.e.selectIsUserNotFound(e,t.screenName),b=(e,t)=>u.e.selectIsUserSuspended(e,t.screenName),f=(e,t)=>u.e.selectIsUserWithheld(e,t.screenName),g=(e,t)=>{const r=h(e,t);return null==r?void 0:r.highlightedLabel},_=(e,t)=>{const r=((e,t)=>u.e.selectIdByScreenName(e,t.screenName))(e,t);return{avatarUrls:a.a(e,r),count:a.b(e,r),names:a.c(e,r)}};var E=Object(c.a)().propsFromState((()=>({displaySensitiveMedia:l.k,fetchStatus:m,isNotFound:w,isSuspended:b,isWithheld:f,knownFollowers:_,user:h,userHighlightedLabel:g}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(d.d)("USER_PROFILE_CARD"),fetchOneUserByScreenNameIfNeeded:u.e.fetchOneByScreenNameIfNeeded,fetchKnownFollowersIfNeeded:i.a}))).withAnalytics(),C=r("GOQE"),y=r("kGix"),v=r("v//M"),S=r("uIZp"),k=r("Jkc4"),F=r("ZQ2e"),x=r("v6aA"),U=r("7wqI");class A extends o.Component{constructor(...e){super(...e),s()(this,"_renderUserProfileCard",(()=>{const{displaySensitiveMedia:e,isNotFound:t,isSuspended:r,isWithheld:n,knownFollowers:s,onAvatarClick:i,onScreenNameClick:a,promotedContent:l,screenName:c,user:d,userHighlightedLabel:u}=this.props;if(r)return o.createElement(F.a.Suspended,{onAvatarClick:i,onScreenNameClick:a,userScreenName:c});if(!d)return null;const{loggedInUserId:p}=this.context,m=Object(U.a)({displaySensitiveMedia:e,isNotFound:t,isSuspended:r,isWithheld:n,loggedInUserId:p,user:d}),h=!!p&&p===d.id_str,w=Object(U.b)({isOwnProfile:h,user:d});return o.createElement(k.a,null,(e=>o.createElement(F.a,{followButton:this._renderFollowUserButton(),isAllowedToViewOptions:m,isLoggedIn:!!p,isUserProtected:d.protected,isUserStatsWithLink:w,isUserVerified:d.verified,knownFollowers:s,onAvatarClick:i,onScreenNameClick:a,onUserStatsPress:e(),promotedContent:l,userAvatarUri:d.profile_image_url_https,userDescription:d.description,userEntities:d.entities,userFollowersCount:d.followers_count,userFriendsCount:d.friends_count,userHighlightedLabel:u,userId:d.id_str,userName:d.name,userScreenName:c,userTranslatorType:d.translator_type,userWithFollowsYou:d.followed_by,userWithheldDescription:d.withheld_description,userWithheldEntities:d.withheld_entities})))})),s()(this,"_renderFollowUserButton",(()=>{const{promotedContent:e,showRelationshipChangeConfirmation:t,user:r}=this.props,n=null==r?void 0:r.id_str;return n?o.createElement(S.a,{promotedContent:e,showRelationshipChangeConfirmation:t,userId:n}):void 0})),s()(this,"_handleFetchUser",(()=>{const{createLocalApiErrorHandler:e,fetchOneUserByScreenNameIfNeeded:t,screenName:r}=this.props;t(r).catch((t=>{e(C.a)(t)}))})),s()(this,"_handleFetchKnownFollowers",(()=>{const{createLocalApiErrorHandler:e,fetchKnownFollowersIfNeeded:t,user:r}=this.props,n=null==r?void 0:r.id_str;n&&t(n).catch(e({}))}))}componentDidMount(){this._handleFetchUser(),this._handleFetchKnownFollowers()}componentDidUpdate(e){var t,r;(null==(t=e.user)?void 0:t.id_str)!==(null==(r=this.props.user)?void 0:r.id_str)&&this._handleFetchKnownFollowers()}render(){const{isSuspended:e,fetchStatus:t}=this.props;return o.createElement(v.a,{fetchStatus:e?y.a.LOADED:t,onRequestRetry:this._handleFetchUser,render:this._renderUserProfileCard})}}s()(A,"contextType",x.a);const I=E(A);t.default=I},"z2a+":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return S}));var n=r("97Jx"),s=r.n(n),o=r("KEM+"),i=r.n(o),a=r("ERkP"),l=r("zfvc"),c=r("siLd"),d=r("jHwr"),u=r("VY6S"),p=r("w9LO"),m=r("TCjc"),h=r("Lsrn"),w=r("k/Ka");const b=(e={})=>Object(w.a)("svg",{...e,style:[h.a.root,e.style],viewBox:"0 0 24 24"},a.createElement("g",null,a.createElement("path",{d:"M12.538 6.478c-.14-.146-.335-.228-.538-.228s-.396.082-.538.228l-9.252 9.53c-.21.217-.27.538-.152.815.117.277.39.458.69.458h18.5c.302 0 .573-.18.69-.457.118-.277.058-.598-.152-.814l-9.248-9.532z"})));b.metadata={width:24,height:24};var f=b,g=r("Oe3h"),_=r("0FVZ"),E=r("rHpw"),C=r("i4Oy"),y=r("shC7"),v=r("MWbm");class S extends a.Component{constructor(e,t){super(e,t),i()(this,"_renderInnerBody",(()=>{const{withArrow:e,children:t}=this.props;return a.createElement(a.Fragment,null,e&&a.createElement(f,{style:this._getArrowStyle()}),t)})),i()(this,"_setContentNode",(e=>{this._contentNode=e||void 0,this._scheduleUpdate()})),i()(this,"_handleEsc",(e=>{const{onMaskClick:t}=this.props,{altKey:r,ctrlKey:n,metaKey:s,key:o}=e;!(r||n||s)&&"Escape"===o&&t&&t()})),i()(this,"_updatePosition",(()=>{if(!this._mounted)return;const{anchorNode:e,preferredVerticalOrientation:t,withArrow:r,withFixedPosition:n}=this.props,s=E.a.theme.borderRadiiPx.large,o=Object(c.c)({anchorNode:e,contentNode:this._contentNode,preferredVerticalOrientation:t,withArrow:r,withFixedPosition:n,borderRadius:s});if(!o)return;const{arrowPositionStart:i,bottom:a,top:l,left:d,right:u}=o;this.setState({arrowPositionStart:i,bottom:a,left:d,right:u,top:l})})),this.state=Object.freeze({}),this._scheduleUpdate=Object(d.a)(this._updatePosition,window.requestAnimationFrame),this._scheduleDebouncedUpdate=Object(u.a)(this._scheduleUpdate,250)}componentDidMount(){this._mounted=!0,C.a.addEventListener("change",this._scheduleDebouncedUpdate)}componentWillUnmount(){const{onHoverCardUnmount:e}=this.props;this._mounted=!1,C.a.removeEventListener("change",this._scheduleDebouncedUpdate),e&&e()}render(){const{onAnimateComplete:e,onMaskClick:t,show:r,withFixedPosition:n,withFocusContainer:o,withMask:i}=this.props,{bottom:c,top:d,left:u,right:h}=this.state,w=void 0===d&&void 0===c,b=w||!o?a.Fragment:p.a,f={top:d,bottom:c,left:u,right:h},E=[w?k.initialRenderWrapper:n?k.contentWrapperFixed:k.contentWrapperAbsolute,f];return a.createElement(_.a.Dropdown,null,a.createElement(m.a.Provider,{value:{isInHoverCard:!0}},t?a.createElement(v.a,{onClick:t,style:[k.mask,i&&k.withMask]}):null,a.createElement(v.a,{onKeyUp:this._handleEsc,ref:this._setContentNode,style:E},a.createElement(b,null,a.createElement(l.b,{animateMount:!0,duration:"long",onAnimateComplete:e,show:r,type:"fade"},(({isAnimating:e})=>i?a.createElement(v.a,{style:k.contentRoot},this._renderInnerBody()):a.createElement(g.a,{id:"HoverCard",minimizeReporting:e},((e,t)=>a.createElement(v.a,s()({ref:e()},t({style:k.contentRoot})),this._renderInnerBody())))))))))}_getArrowStyle(){const{arrowPositionStart:e,bottom:t}=this.state;let r;if(e){r=[k.arrow,t?k.downArrow:k.upArrow];const n=`calc(${e}px - ${f.metadata.width/2}px)`;y.a.getConstants().isRTL?r.push({right:n}):r.push({left:n})}return r}}const k=E.a.create((e=>({arrow:{color:e.colors.cellBackground,filter:`drop-shadow(${e.spaces.space1} -${e.spaces.space1} ${e.spaces.space1} ${e.colors.gray200})`,fontSize:e.fontSizes.small,position:"absolute",width:`${f.metadata.width}px`},contentWrapperAbsolute:{position:"absolute"},contentWrapperFixed:{backfaceVisibility:"hidden",position:"fixed"},initialRenderWrapper:{opacity:0,position:"fixed"},contentRoot:{backgroundColor:e.colors.cellBackground,borderRadius:e.borderRadii.xLarge,boxShadow:e.boxShadows.medium},mask:{...E.a.absoluteFillObject,position:"fixed"},withMask:{backgroundColor:e.colors.maskColor},downArrow:{bottom:`-${e.fontSizes.xSmall}`,transform:"rotate(180deg)"},upArrow:{top:`-${e.fontSizes.xSmall}`}})))}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.HoverCard.00617815.js.map